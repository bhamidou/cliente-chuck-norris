(()=>{"use strict";async function e(e){const t=await fetch(e);return await t.json()}function t(e){document.getElementById("jokes").innerHTML=e}let n="https://api.chucknorris.io/jokes/random?category=";function a(e){let t=document.getElementById("jokes");(async function(e,t){const n=await fetch("http://172.42.61.58:5050/translate",{method:"POST",body:JSON.stringify({q:e,source:"auto",target:t,format:"text",api_key:""}),headers:{"Content-Type":"application/json"}});return await n.json()})(t.innerText,e).then((e=>{t.innerHTML=e.translatedText}))}!function(){let e=localStorage.getItem("category"),t=JSON.parse(e),a=document.getElementById("h2-cat");"random"==t.type?(n="https://api.chucknorris.io/jokes/random",a.innerHTML="Random"):null==t.type?(a.innerHTML=a.innerHTML+" "+t.name,n+=t.name):(a.innerHTML=t.type+': "'+t.name+'"',n="https://api.chucknorris.io/jokes/random?query="+t.name)}(),e(n).then((e=>{let n=localStorage.getItem("lang"),o=JSON.parse(n);t(e.value),a(o)})),document.addEventListener("keydown",(function(o){"r"==o.key&&e(n).then((e=>{let n=localStorage.getItem("lang"),o=JSON.parse(n);t(e.value),a(o)})).catch((e=>{console.log(e)}))})),e("http://172.42.61.58:5050/languages").then((e=>{e.forEach((e=>{let t=document.getElementById("list_lang"),n=document.createElement("option");n.text=e.name,n.id=e.code;let a=localStorage.getItem("lang"),o=JSON.parse(a);null==o&&(o="en"),e.code==o&&(n.selected="selected"),t.options.add(n)}))})).catch((e=>{console.log(e)})),document.getElementById("list_lang").addEventListener("change",(function(e){let t=e.currentTarget.selectedOptions[0].id;var n=JSON.stringify(t);localStorage.setItem("lang",n),a(t)}))})();